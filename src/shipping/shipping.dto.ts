// --- File: backend/src/shipping/shipping.dto.ts ---
import { IsBoolean, IsObject, IsOptional, IsString, MinLength } from 'class-validator';

export class SetActiveDto {
	@IsBoolean()
	isActive: boolean;
}

export class SetProviderCredentialsDto {
	@IsObject()
	credentials: {
		apiKey: string;

		// optional (not required in current integration)
		accountId?: string;

		// webhook security (optional but recommended)
		webhookHeaderName?: string; // default "Authorization"
		webhookSecret?: string;     // generated by backend if missing
	};
}

export class CreateShipmentDto {
	@IsString()
	@MinLength(1)
	customerName: string;

	@IsString()
	@MinLength(6)
	phoneNumber: string;

	@IsString()
	@MinLength(5)
	address: string;

	@IsString()
	@MinLength(2)
	city: string;

	@IsOptional()
	@IsString()
	area?: string;

	@IsOptional()
	codAmount?: number;

	@IsOptional()
	@IsString()
	notes?: string;

	@IsOptional()
	weightKg?: number;

	@IsOptional()
	@IsString()
	size?: 'Small' | 'Medium' | 'Large';
}

export class AssignOrderDto extends CreateShipmentDto {}
